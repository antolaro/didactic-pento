<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mon Site Web</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>Welcome ! you find me :-)</h1>
    </header>
    <main>
        <!-- Section 1 -->
        <section>
            <p>Ici sera la destination de 2025.</p>
            <p>Amusez-vous bien et reviens vite avec tes amis pour t'amuser!</p>
        </section>

        <!-- Section 2 : Afficher la date -->
        <section>
            <p>Today's date :<br><span id="date"></span></p>
        </section>

        <!-- Section 3 : Compte à rebours -->
        <section>
            <p>Time before next run :</p>
            <p id="countdown"></p>
            <p id="eventDate"></p>
        </section>

        <!-- Section 4 : Lien vers la page et compteur de clics -->
        <section>
            <p>Want to play with me :</p>
            <a href="https://chaturbate.com/enourmouscok/" target="_blank" id="playLink" onclick="incrementClickCount()">Click here</a>
            <p>Number of clicks: <span id="clickCounter">0</span></p>
        </section>

        <!-- Section 5 : Ajouter l'événement au calendrier -->
        <section>
            <h2>Ajouter cet événement à votre calendrier :</h2>
            <p>
                <!-- iOS Calendar -->
                <a href="event.ics" download="event.ics">Ajouter à mon calendrier iOS</a><br>
                <!-- Google Calendar -->
                <a href="https://calendar.google.com/calendar/render?action=TEMPLATE&text=Crazy+show&dates=20241223T220000Z/20241223T230000Z&details=Rejoins-nous+pour+un+événement+incroyable+!&location=En+ligne" target="_blank">Ajouter à mon Google Calendar</a>
            </p>
        </section>

        <!-- Section 6 : Visites -->
        <section>
            <h2>Visits :</h2>
            <p id="visitorCount">0</p>
        </section>
    </main>
    <footer>
        <p>&copy; 2024 ATL Media LLC</p>
    </footer>

    <script>
        // Afficher la date du jour
        const today = new Date();
        const dateString = today.toLocaleDateString('fr-FR', {
            weekday: 'long',  // Jour de la semaine
            year: 'numeric',  // Année
            month: 'long',    // Mois
            day: 'numeric'    // Jour du mois
        });
        document.getElementById('date').textContent = dateString;

        // Définir la date de fin d'événement
        const eventEndDate = new Date('December 23, 2024 22:00:00');

        // Fonction de mise à jour du compte à rebours
        function updateCountdown() {
            const now = new Date();
            const timeRemaining = eventEndDate - now;

            if (timeRemaining > 0) {
                const days = Math.floor(timeRemaining / (1000 * 60 * 60 * 24));
                const hours = Math.floor((timeRemaining % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((timeRemaining % (1000 * 60)) / (1000 * 60));
                document.getElementById('countdown').textContent = `${days} jours, ${hours} heures, ${minutes} minutes`;

                // Ajouter la date de fin sous le compte à rebours
                const eventDateString = eventEndDate.toLocaleDateString('fr-FR', {
                    weekday: 'long',
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit',
                    hour12: false
                });
                document.getElementById('eventDate').textContent = `Date de l'événement : ${eventDateString}`;
            } else {
                document.getElementById('countdown').textContent = 'L’événement est terminé!';
                document.getElementById('eventDate').textContent = '';
            }
        }

        // Mettre à jour le compte à rebours toutes les minutes
        setInterval(updateCountdown, 60000);
        updateCountdown(); // Initialiser le compte à rebours

        // Compteur de clics sur le lien
        function incrementClickCount() {
            let clickCount = parseInt(localStorage.getItem('clickCount')) || 0;
            clickCount++;
            localStorage.setItem('clickCount', clickCount);
            document.getElementById('clickCounter').textContent = clickCount;
        }

        // Charger le compteur de clics au démarrage
        document.addEventListener('DOMContentLoaded', () => {
            const clickCount = parseInt(localStorage.getItem('clickCount')) || 0;
            document.getElementById('clickCounter').textContent = clickCount;
        });

        // Visites
        let visitCount = parseInt(localStorage.getItem('visitCount')) || 0;
        visitCount++;
        localStorage.setItem('visitCount', visitCount);
        document.getElementById('visitorCount').textContent = visitCount;
    </script>
</body>
</html>
